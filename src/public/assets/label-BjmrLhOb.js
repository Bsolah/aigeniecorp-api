import{b as K,r as a}from"./index-CJPFVNcn.js";import{K as Q,o as O,a as q,y as J,n as X,L as Z}from"./keyboard-47bePG9x.js";const V=typeof document<"u"?K.useLayoutEffect:()=>{};function ee(t){const n=a.useRef(null);return V(()=>{n.current=t},[t]),a.useCallback((...e)=>{const r=n.current;return r==null?void 0:r(...e)},[])}const y=t=>{var n;return(n=t==null?void 0:t.ownerDocument)!==null&&n!==void 0?n:document},E=t=>t&&"window"in t&&t.window===t?t:y(t).defaultView||window;function te(t){var n;return typeof window>"u"||window.navigator==null?!1:((n=window.navigator.userAgentData)===null||n===void 0?void 0:n.brands.some(e=>t.test(e.brand)))||t.test(window.navigator.userAgent)}function ne(t){var n;return typeof window<"u"&&window.navigator!=null?t.test(((n=window.navigator.userAgentData)===null||n===void 0?void 0:n.platform)||window.navigator.platform):!1}function j(t){let n=null;return()=>(n==null&&(n=t()),n)}const re=j(function(){return ne(/^Mac/i)}),oe=j(function(){return te(/Android/i)});function ue(t){return t.mozInputSource===0&&t.isTrusted?!0:oe()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}class ie{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(n,e){this.nativeEvent=e,this.target=e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget,this.bubbles=e.bubbles,this.cancelable=e.cancelable,this.defaultPrevented=e.defaultPrevented,this.eventPhase=e.eventPhase,this.isTrusted=e.isTrusted,this.timeStamp=e.timeStamp,this.type=n}}function _(t){let n=a.useRef({isFocused:!1,observer:null});V(()=>{const r=n.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let e=ee(r=>{t==null||t(r)});return a.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){n.current.isFocused=!0;let o=r.target,i=d=>{n.current.isFocused=!1,o.disabled&&e(new ie("blur",d)),n.current.observer&&(n.current.observer.disconnect(),n.current.observer=null)};o.addEventListener("focusout",i,{once:!0}),n.current.observer=new MutationObserver(()=>{if(n.current.isFocused&&o.disabled){var d;(d=n.current.observer)===null||d===void 0||d.disconnect();let u=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:u})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:u}))}}),n.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[e])}function ae(t){let{isDisabled:n,onFocus:e,onBlur:r,onFocusChange:o}=t;const i=a.useCallback(l=>{if(l.target===l.currentTarget)return r&&r(l),o&&o(!1),!0},[r,o]),d=_(i),u=a.useCallback(l=>{const c=y(l.target);l.target===l.currentTarget&&c.activeElement===l.target&&(e&&e(l),o&&o(!0),d(l))},[o,e,d]);return{focusProps:{onFocus:!n&&(e||o||r)?u:void 0,onBlur:!n&&(r||o)?i:void 0}}}let T=null,M=new Set,w=new Map,h=!1,x=!1;const se={Tab:!0,Escape:!0};function I(t,n){for(let e of M)e(t,n)}function de(t){return!(t.metaKey||!re()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function L(t){h=!0,de(t)&&(T="keyboard",I("keyboard",t))}function p(t){T="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(h=!0,I("pointer",t))}function R(t){ue(t)&&(h=!0,T="virtual")}function G(t){t.target===window||t.target===document||(!h&&!x&&(T="virtual",I("virtual",t)),h=!1,x=!1)}function U(){h=!1,x=!0}function S(t){if(typeof window>"u"||w.get(E(t)))return;const n=E(t),e=y(t);let r=n.HTMLElement.prototype.focus;n.HTMLElement.prototype.focus=function(){h=!0,r.apply(this,arguments)},e.addEventListener("keydown",L,!0),e.addEventListener("keyup",L,!0),e.addEventListener("click",R,!0),n.addEventListener("focus",G,!0),n.addEventListener("blur",U,!1),typeof PointerEvent<"u"?(e.addEventListener("pointerdown",p,!0),e.addEventListener("pointermove",p,!0),e.addEventListener("pointerup",p,!0)):(e.addEventListener("mousedown",p,!0),e.addEventListener("mousemove",p,!0),e.addEventListener("mouseup",p,!0)),n.addEventListener("beforeunload",()=>{N(t)},{once:!0}),w.set(n,{focus:r})}const N=(t,n)=>{const e=E(t),r=y(t);n&&r.removeEventListener("DOMContentLoaded",n),w.has(e)&&(e.HTMLElement.prototype.focus=w.get(e).focus,r.removeEventListener("keydown",L,!0),r.removeEventListener("keyup",L,!0),r.removeEventListener("click",R,!0),e.removeEventListener("focus",G,!0),e.removeEventListener("blur",U,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",p,!0),r.removeEventListener("pointermove",p,!0),r.removeEventListener("pointerup",p,!0)):(r.removeEventListener("mousedown",p,!0),r.removeEventListener("mousemove",p,!0),r.removeEventListener("mouseup",p,!0)),w.delete(e))};function le(t){const n=y(t);let e;return n.readyState!=="loading"?S(t):(e=()=>{S(t)},n.addEventListener("DOMContentLoaded",e)),()=>N(t,e)}typeof document<"u"&&le();function Y(){return T!=="pointer"}const ce=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function fe(t,n,e){var r;const o=typeof window<"u"?E(e==null?void 0:e.target).HTMLInputElement:HTMLInputElement,i=typeof window<"u"?E(e==null?void 0:e.target).HTMLTextAreaElement:HTMLTextAreaElement,d=typeof window<"u"?E(e==null?void 0:e.target).HTMLElement:HTMLElement,u=typeof window<"u"?E(e==null?void 0:e.target).KeyboardEvent:KeyboardEvent;return t=t||(e==null?void 0:e.target)instanceof o&&!ce.has(e==null||(r=e.target)===null||r===void 0?void 0:r.type)||(e==null?void 0:e.target)instanceof i||(e==null?void 0:e.target)instanceof d&&(e==null?void 0:e.target.isContentEditable),!(t&&n==="keyboard"&&e instanceof u&&!se[e.key])}function pe(t,n,e){S(),a.useEffect(()=>{let r=(o,i)=>{fe(!!(e!=null&&e.isTextInput),o,i)&&t(Y())};return M.add(r),()=>{M.delete(r)}},n)}function be(t){let{isDisabled:n,onBlurWithin:e,onFocusWithin:r,onFocusWithinChange:o}=t,i=a.useRef({isFocusWithin:!1}),d=a.useCallback(c=>{i.current.isFocusWithin&&!c.currentTarget.contains(c.relatedTarget)&&(i.current.isFocusWithin=!1,e&&e(c),o&&o(!1))},[e,o,i]),u=_(d),l=a.useCallback(c=>{!i.current.isFocusWithin&&document.activeElement===c.target&&(r&&r(c),o&&o(!0),i.current.isFocusWithin=!0,u(c))},[r,o,u]);return n?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:l,onBlur:d}}}let F=!1,k=0;function D(){F=!0,setTimeout(()=>{F=!1},50)}function A(t){t.pointerType==="touch"&&D()}function ve(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",A):document.addEventListener("touchend",D),k++,()=>{k--,!(k>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",A):document.removeEventListener("touchend",D))}}function Le(t){let{onHoverStart:n,onHoverChange:e,onHoverEnd:r,isDisabled:o}=t,[i,d]=a.useState(!1),u=a.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;a.useEffect(ve,[]);let{hoverProps:l,triggerHoverEnd:c}=a.useMemo(()=>{let f=(s,m)=>{if(u.pointerType=m,o||m==="touch"||u.isHovered||!s.currentTarget.contains(s.target))return;u.isHovered=!0;let g=s.currentTarget;u.target=g,n&&n({type:"hoverstart",target:g,pointerType:m}),e&&e(!0),d(!0)},v=(s,m)=>{if(u.pointerType="",u.target=null,m==="touch"||!u.isHovered)return;u.isHovered=!1;let g=s.currentTarget;r&&r({type:"hoverend",target:g,pointerType:m}),e&&e(!1),d(!1)},$={};return typeof PointerEvent<"u"?($.onPointerEnter=s=>{F&&s.pointerType==="mouse"||f(s,s.pointerType)},$.onPointerLeave=s=>{!o&&s.currentTarget.contains(s.target)&&v(s,s.pointerType)}):($.onTouchStart=()=>{u.ignoreEmulatedMouseEvents=!0},$.onMouseEnter=s=>{!u.ignoreEmulatedMouseEvents&&!F&&f(s,"mouse"),u.ignoreEmulatedMouseEvents=!1},$.onMouseLeave=s=>{!o&&s.currentTarget.contains(s.target)&&v(s,"mouse")}),{hoverProps:$,triggerHoverEnd:v}},[n,e,r,o,u]);return a.useEffect(()=>{o&&c({currentTarget:u.target},u.pointerType)},[o]),{hoverProps:l,isHovered:i}}function Fe(t={}){let{autoFocus:n=!1,isTextInput:e,within:r}=t,o=a.useRef({isFocused:!1,isFocusVisible:n||Y()}),[i,d]=a.useState(!1),[u,l]=a.useState(()=>o.current.isFocused&&o.current.isFocusVisible),c=a.useCallback(()=>l(o.current.isFocused&&o.current.isFocusVisible),[]),f=a.useCallback(s=>{o.current.isFocused=s,d(s),c()},[c]);pe(s=>{o.current.isFocusVisible=s,c()},[],{isTextInput:e});let{focusProps:v}=ae({isDisabled:r,onFocusChange:f}),{focusWithinProps:$}=be({isDisabled:!r,onFocusWithinChange:f});return{isFocused:i,isFocusVisible:u,focusProps:r?$:v}}let $e=a.createContext(void 0);function ge(){return a.useContext($e)}let H=a.createContext(null);H.displayName="LabelContext";function z(){let t=a.useContext(H);if(t===null){let n=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(n,z),n}return t}function me(t){var n,e,r;let o=(e=(n=a.useContext(H))==null?void 0:n.value)!=null?e:void 0;return((r=void 0)!=null?r:0)>0?[o,...t].filter(Boolean).join(" "):o}function He({inherit:t=!1}={}){let n=me(),[e,r]=a.useState([]),o=t?[n,...e].filter(Boolean):e;return[o.length>0?o.join(" "):void 0,a.useMemo(()=>function(i){let d=O(l=>(r(c=>[...c,l]),()=>r(c=>{let f=c.slice(),v=f.indexOf(l);return v!==-1&&f.splice(v,1),f}))),u=a.useMemo(()=>({register:d,slot:i.slot,name:i.name,props:i.props,value:i.value}),[d,i.slot,i.name,i.props,i.value]);return K.createElement(H.Provider,{value:u},i.children)},[r])]}let Ee="label";function he(t,n){var e;let r=a.useId(),o=z(),i=ge(),d=q(),{id:u=`headlessui-label-${r}`,htmlFor:l=i??((e=o.props)==null?void 0:e.htmlFor),passive:c=!1,...f}=t,v=J(n);X(()=>o.register(u),[u,o.register]);let $=O(P=>{let C=P.currentTarget;if(C instanceof HTMLLabelElement&&P.preventDefault(),o.props&&"onClick"in o.props&&typeof o.props.onClick=="function"&&o.props.onClick(P),C instanceof HTMLLabelElement){let b=document.getElementById(C.htmlFor);if(b){let W=b.getAttribute("disabled");if(W==="true"||W==="")return;let B=b.getAttribute("aria-disabled");if(B==="true"||B==="")return;(b instanceof HTMLInputElement&&(b.type==="radio"||b.type==="checkbox")||b.role==="radio"||b.role==="checkbox"||b.role==="switch")&&b.click(),b.focus({preventScroll:!0})}}}),s=d||!1,m=a.useMemo(()=>({...o.slot,disabled:s}),[o.slot,s]),g={ref:v,...o.props,id:u,htmlFor:l,onClick:$};return c&&("onClick"in g&&(delete g.htmlFor,delete g.onClick),"onClick"in f&&delete f.onClick),Z()({ourProps:g,theirProps:f,slot:m,defaultTag:l?Ee:"div",name:o.name||"Label"})}let we=Q(he),Pe=Object.assign(we,{});export{Fe as $,me as I,He as K,Pe as Q,Le as a,ge as u};
